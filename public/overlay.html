<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok LIVE Overlay Generator</title>

    <meta name="description" content="Generate an overlay URL for OBS or streaming software to display TikTok LIVE events">
    <meta name="keywords" content="TikTok,Live,Overlay,OBS,Streaming,tiktok.com,broadcast">

    <link rel="stylesheet" href="style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        .overlay-form {
            max-width: 500px;
            margin: 30px auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input[type="text"],
        .form-group input[type="color"],
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 6px;
            background: #1a1a1a;
            color: #fff;
            font-size: 1em;
        }

        .form-group input[type="color"] {
            height: 45px;
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .generate-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: #fff;
            background: linear-gradient(135deg, #fe2c55, #25f4ee);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }

        .generate-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(254, 44, 85, 0.4);
        }

        .back-link {
            display: inline-block;
            margin-top: 20px;
            color: #25f4ee;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .url-preview {
            margin-top: 20px;
            padding: 15px;
            background: #1a1a1a;
            border-radius: 8px;
            word-break: break-all;
            font-family: monospace;
            font-size: 0.9em;
            display: none;
        }

        .url-preview.show {
            display: block;
        }

        .copy-btn {
            margin-top: 10px;
            padding: 10px 20px;
            background: #444;
            color: #fff;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: #555;
        }
    </style>

    <script>
        function generateOverlay() {
            let username = $('#usernameInput').val();
            
            if (!username) {
                alert("Please enter a username");
                return;
            }

            let showLikes = $('#showLikes').is(':checked') ? 1 : 0;
            let showChats = $('#showChats').is(':checked') ? 1 : 0;
            let showGifts = $('#showGifts').is(':checked') ? 1 : 0;
            let showFollows = $('#showFollows').is(':checked') ? 1 : 0;
            let showJoins = $('#showJoins').is(':checked') ? 1 : 0;
            let showShares = $('#showShares').is(':checked') ? 1 : 0;

            let bgColor = $('#bgColor').val();
            let fontColor = $('#fontColor').val();
            let fontSize = $('#fontSize').val();

            // Convert hex to rgb
            let bgRgb = hexToRgb(bgColor);
            let fontRgb = hexToRgb(fontColor);

            let url = `${window.location.origin}/obs.html?username=${encodeURIComponent(username)}&showLikes=${showLikes}&showChats=${showChats}&showGifts=${showGifts}&showFollows=${showFollows}&showJoins=${showJoins}&showShares=${showShares}&bgColor=rgb(${bgRgb.r},${bgRgb.g},${bgRgb.b})&fontColor=rgb(${fontRgb.r},${fontRgb.g},${fontRgb.b})&fontSize=${fontSize}`;

            $('#urlPreview').text(url).addClass('show');
            $('#copyBtn').show();

            window.open(url, '_blank');
        }

        function hexToRgb(hex) {
            let result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 0, g: 0, b: 0 };
        }

        function copyUrl() {
            let url = $('#urlPreview').text();
            navigator.clipboard.writeText(url).then(() => {
                $('#copyBtn').text('Copied!');
                setTimeout(() => {
                    $('#copyBtn').text('Copy URL');
                }, 2000);
            });
        }
    </script>
</head>
<body>
    <div class="head">
        <h1>üé¨ Overlay URL Generator</h1>
        <span class="subTitle">Generate an overlay for OBS or streaming software</span>      
    </div>

    <div class="overlay-form">
        <div class="form-group">
            <label for="usernameInput">TikTok @username (must be live):</label>
            <input type="text" id="usernameInput" placeholder="Enter username" value="jamesbonfim">
        </div>

        <div class="form-group">
            <label>Show events:</label>
            <div class="checkbox-group">
                <label><input type="checkbox" id="showChats" checked> üí¨ Chats</label>
                <label><input type="checkbox" id="showGifts" checked> üéÅ Gifts</label>
                <label><input type="checkbox" id="showLikes" checked> ‚ù§Ô∏è Likes</label>
                <label><input type="checkbox" id="showFollows" checked> ‚ûï Follows</label>
                <label><input type="checkbox" id="showJoins" checked> üëã Joins</label>
                <label><input type="checkbox" id="showShares"> üîó Shares</label>
            </div>
        </div>

        <div class="form-group">
            <label for="bgColor">Background Color:</label>
            <input type="color" id="bgColor" value="#18171c">
        </div>

        <div class="form-group">
            <label for="fontColor">Font Color:</label>
            <input type="color" id="fontColor" value="#e3e5eb">
        </div>

        <div class="form-group">
            <label for="fontSize">Font Size:</label>
            <select id="fontSize">
                <option value="1em">Small (1em)</option>
                <option value="1.3em" selected>Medium (1.3em)</option>
                <option value="1.6em">Large (1.6em)</option>
                <option value="2em">Extra Large (2em)</option>
            </select>
        </div>

        <button class="generate-btn" onclick="generateOverlay()">üöÄ Generate & Open Overlay</button>

        <div id="urlPreview" class="url-preview"></div>
        <button id="copyBtn" class="copy-btn" onclick="copyUrl()" style="display: none;">Copy URL</button>

        <a href="index.html" class="back-link">‚Üê Back to Menu</a>
    </div>
</body>
</html>
