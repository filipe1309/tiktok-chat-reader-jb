<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enquete TikTok LIVE</title>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="poll.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="connection.js"></script>
    <script src="poll.js"></script>
</head>
<body>
    <div class="head">
        <h1>ğŸ—³ï¸ Enquete TikTok LIVE</h1>
        <span class="subTitle">Sistema de votaÃ§Ã£o interativo para Lives do TikTok</span>
    </div>

    <!-- SeÃ§Ã£o de ConexÃ£o -->
    <div class="section connection-section">
        <h2>ğŸ”— ConexÃ£o</h2>
        <div class="inputFields">
            <p>Digite o <b>@usuÃ¡rio</b> de alguÃ©m que estÃ¡ ao vivo:</p>
            <input type="text" id="uniqueIdInput" placeholder="@usuÃ¡rio" value="jamesbonfim">
            <input type="button" id="connectButton" value="Conectar">
            <span id="connectionStatus" class="status-disconnected">Desconectado</span>
            <a href="index.html" style="margin-left: 15px; color: #25f4ee;">â† Voltar ao Menu</a>
        </div>
    </div>

    <!-- SeÃ§Ã£o de Resultados da Enquete -->
    <div class="section results-section">
        <h2>ğŸ“Š Resultados da Enquete</h2>
        
        <div class="poll-status">
            <div class="timer-display">
                <span class="timer-label">Tempo Restante:</span>
                <span id="timerValue" class="timer-value">--</span>
            </div>
            <div class="total-votes">
                <span class="votes-label">Total de Votos:</span>
                <span id="totalVotes" class="votes-value">0</span>
            </div>
            <div class="poll-state">
                <span class="state-label">Status:</span>
                <span id="pollState" class="state-value state-idle">Aguardando</span>
            </div>
        </div>

        <div id="pollQuestion-display" class="poll-question-display">
            <!-- A pergunta da enquete serÃ¡ exibida aqui -->
        </div>

        <div id="resultsContainer" class="results-container">
            <!-- Os resultados serÃ£o gerados dinamicamente aqui -->
        </div>
    </div>

    <!-- SeÃ§Ã£o de ConfiguraÃ§Ã£o da Enquete -->
    <div class="section config-section">
        <h2>âš™ï¸ ConfiguraÃ§Ã£o da Enquete</h2>
        
        <div class="config-row">
            <div class="config-item">
                <label for="numOptions">NÃºmero de OpÃ§Ãµes:</label>
                <input type="number" id="numOptions" min="2" max="10" value="4">
                <button id="updateOptionsBtn" class="btn-secondary">Atualizar OpÃ§Ãµes</button>
            </div>
            <div class="config-item">
                <label for="pollTimer">Tempo (segundos):</label>
                <input type="number" id="pollTimer" min="10" max="300" value="30">
            </div>
        </div>

        <div class="config-row">
            <div class="config-item full-width">
                <label for="pollQuestion">Pergunta da Enquete:</label>
                <input type="text" id="pollQuestion" placeholder="Digite sua pergunta aqui..." class="full-input">
            </div>
        </div>

        <div id="optionsContainer" class="options-config">
            <!-- As opÃ§Ãµes serÃ£o geradas dinamicamente aqui -->
        </div>

        <div class="poll-controls">
            <button id="startPollBtn" class="btn-primary" disabled>â–¶ï¸ Iniciar Enquete</button>
            <button id="stopPollBtn" class="btn-danger" disabled>â¹ï¸ Parar Enquete</button>
            <button id="resetPollBtn" class="btn-secondary">ğŸ”„ Reiniciar Enquete</button>
        </div>
    </div>

    <!-- SeÃ§Ã£o de Registro de Votos -->
    <div class="section log-section">
        <h2>ğŸ“ Registro de Votos</h2>
        <div class="log-controls">
            <label>
                <input type="checkbox" id="showVoteLogs" checked> Mostrar votos individuais
            </label>
            <button id="clearLogBtn" class="btn-secondary btn-small">Limpar Registro</button>
        </div>
        <div id="voteLog" class="vote-log">
            <!-- Os registros de votos aparecerÃ£o aqui -->
        </div>
    </div>
</body>
</html>
