appId: com.tiktok-chat-reader.app
productName: TikTok Chat Reader
copyright: Copyright © 2024

directories:
  output: release
  buildResources: build-resources

# Files to include in the Electron package
files:
  - dist/**/*
  - dist-electron/**/*
  - public-react/**/*
  - node_modules/**/*
  - package.json

# Electron main entry point (compiled from electron/main.ts)
# electron-builder reads "main" from package.json, but we override here
extraMetadata:
  main: dist-electron/main.js

# ─── macOS ────────────────────────────────────────────────────────────
mac:
  category: public.app-category.social-networking
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64

dmg:
  title: "${productName} ${version}"

# ─── Windows ──────────────────────────────────────────────────────────
win:
  target:
    - target: nsis
      arch:
        - x64
    - target: portable
      arch:
        - x64

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  installerIcon: build-resources/icon.ico
  uninstallerIcon: build-resources/icon.ico

# ─── Linux (optional) ────────────────────────────────────────────────
linux:
  target:
    - target: AppImage
      arch:
        - x64
    - target: deb
      arch:
        - x64
  category: Network
